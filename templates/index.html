<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CB Project</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>
    <link href="css/dashboard.css" rel="stylesheet">
    <!-- <link href="css/sidebars.css" rel="stylesheet"> -->
</head>
<body>
  <header class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
    <a class="navbar-brand col-md-3 col-lg-2 me-0 px-3" href="#">Cyberbully Detection</a>
    <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="navbar-nav">
      
    </div>
  </header>
  
  <div class="container-fluid">
    <div class="row">
      <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
        <div class="position-sticky pt-3">
          <ul class="nav flex-column">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house-door" viewBox="0 0 16 16">
                  <path d="M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4z"/>
                </svg>
                App
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="training_process" target="_blank">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pc-display-horizontal" viewBox="0 0 16 16">
                  <path d="M1.5 0A1.5 1.5 0 0 0 0 1.5v7A1.5 1.5 0 0 0 1.5 10H6v1H1a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-5v-1h4.5A1.5 1.5 0 0 0 16 8.5v-7A1.5 1.5 0 0 0 14.5 0zm0 1h13a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .5-.5M12 12.5a.5.5 0 1 1 1 0 .5.5 0 0 1-1 0m2 0a.5.5 0 1 1 1 0 .5.5 0 0 1-1 0M1.5 12h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1M1 14.25a.25.25 0 0 1 .25-.25h5.5a.25.25 0 1 1 0 .5h-5.5a.25.25 0 0 1-.25-.25"/>
                </svg>
                Training Process
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#database_section">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-database-fill-gear" viewBox="0 0 16 16">
                  <path d="M8 1c-1.573 0-3.022.289-4.096.777C2.875 2.245 2 2.993 2 4s.875 1.755 1.904 2.223C4.978 6.711 6.427 7 8 7s3.022-.289 4.096-.777C13.125 5.755 14 5.007 14 4s-.875-1.755-1.904-2.223C11.022 1.289 9.573 1 8 1"/>
                  <path d="M2 7v-.839c.457.432 1.004.751 1.49.972C4.722 7.693 6.318 8 8 8s3.278-.307 4.51-.867c.486-.22 1.033-.54 1.49-.972V7c0 .424-.155.802-.411 1.133a4.51 4.51 0 0 0-4.815 1.843A12 12 0 0 1 8 10c-1.573 0-3.022-.289-4.096-.777C2.875 8.755 2 8.007 2 7m6.257 3.998L8 11c-1.682 0-3.278-.307-4.51-.867-.486-.22-1.033-.54-1.49-.972V10c0 1.007.875 1.755 1.904 2.223C4.978 12.711 6.427 13 8 13h.027a4.55 4.55 0 0 1 .23-2.002m-.002 3L8 14c-1.682 0-3.278-.307-4.51-.867-.486-.22-1.033-.54-1.49-.972V13c0 1.007.875 1.755 1.904 2.223C4.978 15.711 6.427 16 8 16c.536 0 1.058-.034 1.555-.097a4.5 4.5 0 0 1-1.3-1.905m3.631-4.538c.18-.613 1.048-.613 1.229 0l.043.148a.64.64 0 0 0 .921.382l.136-.074c.561-.306 1.175.308.87.869l-.075.136a.64.64 0 0 0 .382.92l.149.045c.612.18.612 1.048 0 1.229l-.15.043a.64.64 0 0 0-.38.921l.074.136c.305.561-.309 1.175-.87.87l-.136-.075a.64.64 0 0 0-.92.382l-.045.149c-.18.612-1.048.612-1.229 0l-.043-.15a.64.64 0 0 0-.921-.38l-.136.074c-.561.305-1.175-.309-.87-.87l.075-.136a.64.64 0 0 0-.382-.92l-.148-.045c-.613-.18-.613-1.048 0-1.229l.148-.043a.64.64 0 0 0 .382-.921l-.074-.136c-.306-.561.308-1.175.869-.87l.136.075a.64.64 0 0 0 .92-.382zM14 12.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0"/>
                </svg>
                Database
              </a>
            </li>
          </ul>
  
      </nav>
  
      <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
          <h1 class="h2">Dashboard</h1>
          <div class="btn-toolbar mb-2 mb-md-0">
            <!-- <div class="btn-group me-2">
              <button type="button" class="btn btn-sm btn-outline-secondary">Share</button>
              <button type="button" class="btn btn-sm btn-outline-secondary">Export</button>
            </div>
             -->
          </div>
        </div>
  
        <div class="container col-xl-10 col-xxl-8 px-4 py-5">
          <div class="row align-items-center g-lg-5 py-5">
            <div class="text-center text-lg-start">
              <h1 class="display-5 fw-bold lh-1 mb-3">Checking Your Message</h1>
              <p class="fs-4">Enter your message in box below to checking your message is safe by not harmful or offend someone before post it on internet.</p>
            </div>
            <div class="col-md-10 mx-auto">
              <form id="form-message" action='/detection' method="POST" class="p-4 p-md-5 border rounded-3 bg-light">
                <div class="mb-3">
                  <label for="floatingInput" class="form-label">Message</label>
                  <textarea class="form-control" id="floatingInput" name="messageText" rows="5"></textarea>
                <button class="w-100 btn btn-lg btn-primary" type="submit">Checking</button>
                <hr class="my-4">

                {% if detect_result == 'not_cyberbullying' %}
                <div class="card border-secondary mb-3" style="width: auto;">
                  <!-- <div class="card-header">Header</div> -->
                  <div class="card-body text-secondary">
                    <h5 class="card-title">Your Message type is :&nbsp; {{detect_result}}</h5>
                    <p class="card-text">{{input_message}}</p>
                  </div>
                </div>
                {% elif detect_result == 'other_cyberbullying' %}
                <div class="card border-warning mb-3" style="width: auto;">
                  <!-- <div class="card-header">Header</div> -->
                  <div class="card-body text-warning">
                    <h5 class="card-title">Your Message type is :&nbsp; {{detect_result}}</h5>
                    <p class="card-text">{{input_message}}</p>
                  </div>
                </div>
                {% elif detect_result == NULL %}
                  <p></p>
                {% else %}
                <div class="card border-danger mb-3" style="width: auto;">
                  <!-- <div class="card-header">Header</div> -->
                  <div class="card-body text-danger">
                    <h5 class="card-title">Your Message type is :&nbsp; {{detect_result}} bullying</h5>
                    <p class="card-text">{{input_message}}</p>
                  </div>
                </div>
                {% endif %}
              </form>
            </div>
          </div>
        </div>
      
        <hr class="my-4">
        <h2>History</h2>
        <form action='/messages' method="GET" >
          <button class="btn btn-outline-primary" type="submit">Reload</button>
        </form>
        {% if messages %}
        <div class="list-group history-list">
          {% for item in messages %}
          <div class="list-group-item list-group-item-action" aria-current="true">
            <div class="d-flex justify-content-between">
              <h5 class="mb-1">{{ item.message_type|upper }}</h5>
              <small>{{ item.record_date}}</small>
            </div>
            <p class="mb-1">{{ item.message }}</p>
            <!-- <small></small> -->
          </div>
          {% endfor %}
        </div>
        {% else %}
        <div class="alert alert-danger" role="alert">
          No messages found in database!!!
        </div>
        {% endif %}
        <!-- <div>
          {% if messages %}
          <table>
                <tr>
                    {% for header in table_headers %}
                    <th>{{ header }}</th>
                    {% endfor %}
                </tr>
                
                {% for msg in messages %}
                <tr>
                    <td>{{ msg.id }}</td>
                    <td>{{ msg.message }}</td>
                    <td>{{ msg.message_type|upper }}</td>
                    <td>{{ msg.formatted_date }}</td>
                </tr>
                {% endfor %}
            </table>
            {% else %}
            <p class="no-data">No messages found in database</p>
            {% endif %}
        </div> -->
        <hr class="my-4">

      </main>
    </div>
  </div>
    <!-- <div class="container">
        <div class="row">
          
          <div class="col">
            <div class="card">
                <img height="200px" src="https://gratisography.com/wp-content/uploads/2025/02/gratisography-when-pigs-fly-1170x780.jpg" class="card-img-top" alt="..." >
                <div class="card-body">
                  <h5 class="card-title">Checking Message Model</h5>
                  <form id="form-message" action='/detection' method="POST" >
                    <div class="mb-3">
                      <label for="form-message" class="form-label">Message</label>
                      <textarea class="form-control" name="messageText" rows="3">
                       
                      </textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Check</button>
                  </form>
                  <br>
                  <h1>
                    {{detect_result}}
                  </h1>
                </div>
              </div>
          </div>
          
        </div>
      </div> -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>